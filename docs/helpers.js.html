<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: helpers.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: helpers.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Helper functions
 */
import { getTMDBConsts } from './index';

/**
 * Returns and array with one or more full URLs to an image.
 * 
 * @param {(string|string[])} imgFileName - file name of the image or Array of filenames.
 * @param {string} [size=m] - 's', *'m', 'l', 'original'.
 * @param {boolean} [secureURL=true] - return the https or http - *true
 * @returns {string[]} full URL to the image 
 */
export const formatImageURL = (imgFileName, size = 'm', secureURL=true) => {
  let { IMG_URL, SECURE_IMG_URL } = getTMDBConsts();
  // Hardcoding s, m, l for now
  switch (size) {
    case 's': 
      size = 'w185';
      break;
    case 'm': 
      size = 'w300';
      break;      
    case 'l': 
      size = 'w500';
      break;
    case 'original': 
      size = 'original';
      break;
    default:
      size = 'w300';
  }
  let baseURL = secureURL ? SECURE_IMG_URL : IMG_URL;

  // Get rid of any preceding '/'  in the passed imgFileName
  let regEx = /[^\/].*/;
  // If imgFileName IS NOT an array, then process as single file, but still return array
  if (!Array.isArray(imgFileName)) {
    return imgFileName ? [`${baseURL}${size}/${imgFileName.match(regEx)[0]}`] : [''];
  }

  // Process as an array and return an array, also make sure some value exists in each array slot.
  return imgFileName.map(file => file ? `${baseURL}${size}/${file.match(regEx)[0]}` : '');
};

export function averageOfArray(arr) {
  return Math.round(arr.reduce((a,b) => (a+b), 0) / arr.length)
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#convertGenreToObj">convertGenreToObj</a></li><li><a href="global.html#formatImageURL">formatImageURL</a></li><li><a href="global.html#getConfig">getConfig</a></li><li><a href="global.html#getImagesForMovie">getImagesForMovie</a></li><li><a href="global.html#getImagesForShow">getImagesForShow</a></li><li><a href="global.html#getMovieGenres">getMovieGenres</a></li><li><a href="global.html#getTMDBConsts">getTMDBConsts</a></li><li><a href="global.html#getTVGenres">getTVGenres</a></li><li><a href="global.html#initTMDB">initTMDB</a></li><li><a href="global.html#movieGetMovieDetails">movieGetMovieDetails</a></li><li><a href="global.html#movieGetPersonDetails">movieGetPersonDetails</a></li><li><a href="global.html#movieSearchByTitle">movieSearchByTitle</a></li><li><a href="global.html#rawDiscoverMovies">rawDiscoverMovies</a></li><li><a href="global.html#rawGetCreditDetails">rawGetCreditDetails</a></li><li><a href="global.html#rawGetCredits">rawGetCredits</a></li><li><a href="global.html#rawGetEpisodes">rawGetEpisodes</a></li><li><a href="global.html#rawGetExternalIds">rawGetExternalIds</a></li><li><a href="global.html#rawGetMovieDetails">rawGetMovieDetails</a></li><li><a href="global.html#rawGetMovieImages">rawGetMovieImages</a></li><li><a href="global.html#rawGetPersonDetails">rawGetPersonDetails</a></li><li><a href="global.html#rawGetPersonDetails_Movie">rawGetPersonDetails_Movie</a></li><li><a href="global.html#rawGetShowDetails">rawGetShowDetails</a></li><li><a href="global.html#rawGetShowImages">rawGetShowImages</a></li><li><a href="global.html#rawSearchForPerson">rawSearchForPerson</a></li><li><a href="global.html#rawSearchMovieByTitle">rawSearchMovieByTitle</a></li><li><a href="global.html#rawSearchTVByTitle">rawSearchTVByTitle</a></li><li><a href="global.html#searchForPersonId">searchForPersonId</a></li><li><a href="global.html#tvGetShowDetails">tvGetShowDetails</a></li><li><a href="global.html#tvSearchByTitle">tvSearchByTitle</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Wed Jul 31 2019 00:01:30 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
