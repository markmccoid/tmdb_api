<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="wrap">
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://myproject.com" target="_blank" class="menu-item" id="website_link" >Project Website</a></h2><h3>Namespaces</h3><ul><li><a href="axios.html">axios</a><ul class='methods'><li data-type='method'><a href="axios.html#.buildRawError">buildRawError</a></li><li data-type='method'><a href="axios.html#.callTMDB">callTMDB</a></li><li data-type='method'><a href="axios.html#.apiTMDB">apiTMDB</a></li></ul></li><li><a href="Curated_API_Common.html">Curated_API_Common</a><ul class='methods'><li data-type='method'><a href="Curated_API_Common.html#.searchForPersonId">searchForPersonId</a></li><li data-type='method'><a href="Curated_API_Common.html#.getPersonDetails">getPersonDetails</a></li><li data-type='method'><a href="Curated_API_Common.html#.getPersonImages">getPersonImages</a></li></ul></li><li><a href="Curated_API_Movies.html">Curated_API_Movies</a><ul class='methods'><li data-type='method'><a href="Curated_API_Movies.html#.movieGetImages">movieGetImages</a></li><li data-type='method'><a href="Curated_API_Movies.html#.movieSearchByTitle">movieSearchByTitle</a></li><li data-type='method'><a href="Curated_API_Movies.html#.movieGetDetails">movieGetDetails</a></li><li data-type='method'><a href="Curated_API_Movies.html#.movieGetCredits">movieGetCredits</a></li><li data-type='method'><a href="Curated_API_Movies.html#.movieGetPersonCredits">movieGetPersonCredits</a></li><li data-type='method'><a href="Curated_API_Movies.html#.movieDiscover">movieDiscover</a></li></ul></li><li><a href="Curated_API_TV.html">Curated_API_TV</a><ul class='methods'><li data-type='method'><a href="Curated_API_TV.html#.tvGetImages">tvGetImages</a></li><li data-type='method'><a href="Curated_API_TV.html#.tvSearchByTitle">tvSearchByTitle</a></li><li data-type='method'><a href="Curated_API_TV.html#.tvGetShowDetails">tvGetShowDetails</a></li><li data-type='method'><a href="Curated_API_TV.html#.tvGetShowCredits">tvGetShowCredits</a></li></ul></li><li><a href="Raw_API_Movies.html">Raw_API_Movies</a><ul class='methods'><li data-type='method'><a href="Raw_API_Movies.html#.rawMovieSearchByTitle">rawMovieSearchByTitle</a></li><li data-type='method'><a href="Raw_API_Movies.html#.rawMovieGetDetails">rawMovieGetDetails</a></li><li data-type='method'><a href="Raw_API_Movies.html#.rawMovieGetImages">rawMovieGetImages</a></li><li data-type='method'><a href="Raw_API_Movies.html#.rawMovieGetPersonCredits">rawMovieGetPersonCredits</a></li><li data-type='method'><a href="Raw_API_Movies.html#.rawMovieGetCredits">rawMovieGetCredits</a></li><li data-type='method'><a href="Raw_API_Movies.html#.rawMovieDiscover">rawMovieDiscover</a></li></ul></li><li><a href="Raw_API_TV.html">Raw_API_TV</a><ul class='methods'><li data-type='method'><a href="Raw_API_TV.html#.rawTVSearchByTitle">rawTVSearchByTitle</a></li><li data-type='method'><a href="Raw_API_TV.html#.rawTVGetShowDetails">rawTVGetShowDetails</a></li><li data-type='method'><a href="Raw_API_TV.html#.rawTVGetEpisodes">rawTVGetEpisodes</a></li><li data-type='method'><a href="Raw_API_TV.html#.rawTVGetShowImages">rawTVGetShowImages</a></li><li data-type='method'><a href="Raw_API_TV.html#.rawTVGetExternalIds">rawTVGetExternalIds</a></li><li data-type='method'><a href="Raw_API_TV.html#.rawTVGetShowCredits">rawTVGetShowCredits</a></li><li data-type='method'><a href="Raw_API_TV.html#.rawTVGetCreditDetails">rawTVGetCreditDetails</a></li></ul></li><li><a href="Raw_API_Common.html">Raw_API_Common</a><ul class='methods'><li data-type='method'><a href="Raw_API_Common.html#.rawSearchForPerson">rawSearchForPerson</a></li><li data-type='method'><a href="Raw_API_Common.html#.rawGetPersonDetails">rawGetPersonDetails</a></li><li data-type='method'><a href="Raw_API_Common.html#.rawGetPersonImages">rawGetPersonImages</a></li><li data-type='method'><a href="Raw_API_Common.html#.rawGetPersonCombinedCredits">rawGetPersonCombinedCredits</a></li></ul></li><li><a href="Helpers.html">Helpers</a><ul class='methods'><li data-type='method'><a href="Helpers.html#.formatImageURL">formatImageURL</a></li><li data-type='method'><a href="Helpers.html#.parseToDate">parseToDate</a></li><li data-type='method'><a href="Helpers.html#.flattenArray">flattenArray</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#ErrorObj">ErrorObj</a></li><li><a href="global.html#searchForPersonId_typedef">searchForPersonId_typedef</a></li><li><a href="global.html#getPersonDetails_typedef">getPersonDetails_typedef</a></li><li><a href="global.html#getPersonImages_typedef">getPersonImages_typedef</a></li><li><a href="global.html#imagesReturn_typedef">imagesReturn_typedef</a></li><li><a href="global.html#movieSearchByTitle_typedef">movieSearchByTitle_typedef</a></li><li><a href="global.html#movieDetails_typedef">movieDetails_typedef</a></li><li><a href="global.html#movieCredits_typedef">movieCredits_typedef</a></li><li><a href="global.html#moviePersonCredits_typedef">moviePersonCredits_typedef</a></li><li><a href="global.html#movieDiscover_typedef">movieDiscover_typedef</a></li><li><a href="global.html#movieDiscoverCriteria_typedef">movieDiscoverCriteria_typedef</a></li><li><a href="global.html#tvGetImages_typedef">tvGetImages_typedef</a></li><li><a href="global.html#tvSearchByTitle_typedef">tvSearchByTitle_typedef</a></li><li><a href="global.html#tvShowDetails_typedef">tvShowDetails_typedef</a></li><li><a href="global.html#tvCredits_typedef">tvCredits_typedef</a></li><li><a href="global.html#initTMDB">initTMDB</a></li><li><a href="global.html#updateAPIOptions">updateAPIOptions</a></li><li><a href="global.html#getTMDBConsts">getTMDBConsts</a></li><li><a href="global.html#getConfig">getConfig</a></li><li><a href="global.html#getTVGenres">getTVGenres</a></li><li><a href="global.html#getMovieGenres">getMovieGenres</a></li><li><a href="global.html#convertGenreToObj">convertGenreToObj</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme">
        <article><h1>TMDB API Wrapper</h1>
<p>This package wraps select API calls from the <a href="https://developers.themoviedb.org/3/getting-started/introduction">TMDB API</a>. To use this, you will need to get an API Key from The Movie Database website.</p>
<h2>Motivation</h2>
<p>This project was inspired when writing another application that accessed the TMDB API for TV data.  I found that I wrote a bunch of functions to get the data and then had to curate the return data into something useful.  It seemed to make sense to package all this logic into a single package that could be included in any other project.</p>
<p>Realize that the TMDB API is HUGE!  So, my goal was to encapsulate the most common data that a project would need.  If data is missing that you need, do a pull request and add it!</p>
<h2>Install</h2>
<pre class="prettyprint source lang-javascript"><code>$ yarn add tmdb_api
</code></pre>
<h2>API Docs</h2>
<p>The API Docs will help you navigate the functions available. <a href="https://markmccoid.github.io/tmdb_api/">https://markmccoid.github.io/tmdb_api/</a></p>
<p>You will find that there are two main types of data returned.  Either <strong>Raw</strong> or <strong>Curated</strong>.</p>
<p><strong>Raw</strong> API functions are simply calls to the main API endpoints, returning all data from them.</p>
<p><strong>Curated</strong> API functions take the Raw data and format it in a way to make it easier to use and manipulate.</p>
<p>The Raw and Curated functions are split into Common, TV and Movie functions.  TV and Movie are self explanatory. The Common functions are those that span both TV and Movies.  These will include Person data.</p>
<p>Lastly, there is a section of <strong>Helpers</strong> functions.  You most likely will not need these if you are using the Curated functions.</p>
<p>I've also tried to include typedefs for the curated functions so will have some documentation on what information is returned with each call.</p>
<h2>Initialize</h2>
<p>Before you can call the API functions you will need to initialize the module with your API Key using the <code>initTMDB(APIKey, [options])</code> function.  The options object is optional.</p>
<pre class="prettyprint source lang-jsx"><code>import React from &quot;react&quot;;
import Main from &quot;./components/Main&quot;;
import { initTMDB } from &quot;tmdb_api&quot;;

function App() {
  initTMDB(&quot;0e4935axxxxxxxxxxxxxxxxxx&quot;);
  return (
    &lt;div>
      &lt;header>TMDB API Wrapper&lt;/header>
      &lt;Main />
    &lt;/div>
  );
}

export default App;
</code></pre>
<p>initTMDB returns a promise, hence is an async function.  This means that if you are programmatically calling any of the tmdb_api functions, you have to wait until the promise resolves.</p>
<h3>Options Object</h3>
<p>When initializing, you also have the options to pass an <em>Options</em> object.  This will set some defaults for how this package will return your data and query the TMDB api.</p>
<ul>
<li><strong>dateFormatString</strong></li>
</ul>
<pre class="prettyprint source lang-javascript"><code>{
  dateFormatString: &quot;MM-dd-yyyy&quot;
};
</code></pre>
<p>The <em>dateFormatString</em> must use the formatting options from the <a href="https://date-fns.org/v2.7.0/docs/format"><strong>date-fns</strong> package</a>.</p>
<ul>
<li><strong>defaultAPIParams</strong></li>
</ul>
<pre class="prettyprint source lang-javascript"><code>{
  defaultAPIParams: {
    include_adult: false
  }
}
</code></pre>
<p>The <em>defaultAPIParams</em> object lets you pass in any parameters that you want to always be set when making calls</p>
<p>If you need to change the <em>dateFormatString</em> after initialization, just use the <strong>updateAPIOptions(options)</strong> functions.</p>
<h2>Raw API Functions</h2>
<p>The <em>Raw</em> API functions are functions that call and return the data directly from the TMDB API endpoints. This is in contrast to the <em>Curated</em> API functions, which do some additional formatting like returning full image URLs.</p>
<p>All Raw API functions return data in the following object shape:</p>
<pre class="prettyprint source lang-javascript"><code>{
    data: // The meat of the return from TMDB API call.
    apiCall: &lt;string> // apicall used to get results
}
</code></pre>
<h3>Error Object</h3>
<p>If an error should occur, all Raw API functions return a standard error object in the following shape:</p>
<pre class="prettyprint source lang-javascript"><code>{
    error: err, // The full error object
    status: err.response ? err.response.request.status : null,
    statusText: err.response ? err.response.request.statusText : null,
    apiCall: err.response
      ? err.response.request.responseURL
      : err.config
      ? err.config.url
      : null
  }
</code></pre>
<blockquote>
<p>Note: In raw functions, the full image path is not returned as it is in the curated functions. Refer to <a href="https://developers.themoviedb.org/3/getting-started/images">TMDB API for Image</a> for details. You can use the <em>getConfig()</em> function to get the config details.</p>
</blockquote>
<h2>Curated API Functions</h2>
<p>Curated functions are wrappers around the Raw API calls. They do some extra work so you don't have too.</p>
<ol>
<li>
<p>Resolve any images to full image paths.</p>
</li>
<li>
<p>Convert date strings to an JavaScript Object in the form</p>
<pre class="prettyprint source lang-javascript"><code>{
    date, // JavaScript date
    epoch, // Unix timestamp -- Seconds from 1/1970
    formatted //Formatted based on the dateFormatString passed in initTMDB() function. Default &quot;MM-dd-yyyy&quot;
}
</code></pre>
</li>
<li>
<p>Convert genre Ids to genre names (unless you are calling the genre function to get a list of id/genre combinations.)</p>
</li>
<li>
<p>Return a curated set of items from the call.</p>
</li>
</ol>
<p>The returned object shape is the same as the Raw calls:</p>
<pre class="prettyprint source lang-javascript"><code>{
    data: // The meat of the return from TMDB API call.
    apiCall: &lt;string> // apicall used to get results
    page: &lt;int> // ONLY returned for functions with a page argument
    totalResults: &lt;int> // ONLY returned for functions with a page argument
    totalPages: &lt;int> // ONLY returned for functions with a page argument
}
</code></pre>
<blockquote>
<p>Note: for functions that have a page argument, the data object will also include, at the root of the returned object, a page (current page you are on), totalResults (total count of results), totalPages (total number of pages) properties. You will need this data for pagination.</p>
</blockquote></article>
    </section>









<section>

<header>
    
        <h2>
        APICurated/API_Common.js
        </h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="APICurated_API_Common.js.html">APICurated/API_Common.js</a>, <a href="APICurated_API_Common.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Mark McCoid</li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>




            
                <div class="description"><p>Curated Common Calls.  currently just searchForPersonId</p></div>
            

            
        
        </div>
    

    

    

    
    
    

     

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>
        index.js
        </h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Mark McCoid</li>
        </ul>
    </dd>
    

    

    

    

    

    

    
</dl>




            
                <div class="description"><p>TMDB API Wrapper module.</p></div>
            

            
        
        </div>
    

    

    

    
    
    

     

    

    

    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Thu Jan 02 2020 23:18:15 GMT-0500 (Eastern Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>